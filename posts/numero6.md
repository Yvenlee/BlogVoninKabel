---
title: "L'ultime ressort"
date: "2024-08-12"
description: "Les derniers conflits"
---

-Lundi 12 Aout 15h retour sur la semaine avec Ben et Liliane. <br> 
Nous avons tout deux peiné sur nos taches et Ben nous a fait comprendre qu’il valait mieux demander de l’aide car nous n’étions pas seuls. Alors nous sommes revenus sur ce qui s’est mal passé afin d’assurer des résultats dès le lendemain.<br>
-Mardi 13 Aout. J’ai poussé les changements que j’ai fait mais le retour est toujours negatif. C’est à ce moment que Ben m’a parlé de l’api officielle de Solana, susceptible de mieux fonctionner que les autres et m’a aussi demandé de modifier le nom et le langage utilisé pour le code passant de topWallet.js à WalletBalance.tsx. J’ai poursuivi les recherches afin d'obtenir un premier résultat visuel sans erreurs. <br>
-Mercredi 14 Aout. Ben check le code et m’affirme que ça ne fonctionne toujours pas. J’avais vaguement vu quelque chose en lien avec les faucets et le réseau devnet sans y prêter grande attention. Ben m’explique cependant que je peux effectuer mes tests moi-même en passant sur le réseau Devnet de Solana. Mon portefeuille passe en mode développeur et permet d’exploiter des tokens fictifs. La solution qui me permettrait d’avoir un retour direct sur mes tests, pratique.
Je me suis alors envoyé 7 SOL fictifs et je voyais ces token affichés. Connecté sur le réseau fictif Devnet, mais quand même une belle victoire. Je n'avais plus qu'a passer sur le réseau mainnet et refaire le test. <br>
On m'a retourné une erreur 403, simplement pas le droit d'acceder à l'api. J'ai été pris de doute car la documentation officielle mentionnait que l’api était encore en bêta et qu’elle pouvait avoir des erreurs. J’ai encore continué à chercher une solution sans résultat positif jusqu’au lendemain. <br>
-Vendredi 16 aout : Je repense à Alchemy une plateforme de développement blockchain qui fournit des outils et services pour interagir avec le web3. Je m’en étais servi une première fois lorsque j’avais besoin d’une clé d’API Solana et j’ai retrouvé la même clé qui me connectait au réseau mainnet Ou devnet de Solana. Ça a finalement fonctionné et presque retourné le résultat que je voulais. L’adresse mint de mon token et le montant contenu dans le portefeuille. L’appel à l’api était bon, le retour sur json était bon mais on ne m’affichait pas le nom du token, seulement son adresse mint, illisible pour un humain. Il fallait alors que récupères les métadonnées de ces tokens. Pour ça je me suis servi de '@solana/spl-token-registry' un module adapté pour npm qui permet de récupérer les métadonnées des tokens Solana. En même temps je me suis envoyé une autre monnaie fictive, l’USDC. J’ai alors compris que depuis le début je cherchais à afficher du SOL et non les autres tokens car oui les SOL et les SPL tokens sont deux devises différentes. <br>
J'ai d'abord affiché l'adresse mint du token, puis son nom, sa quantité était déja visible et tout fonctionnait. Nous étions toujours sur le réseau devnet mais c'était là une autre victoire pour finir la semaine. <br>
-Lundi 19 aout, 15h commençait la dernière semaine du stage. On revient sur la semaine passée et tout fonctionne correctement. Ben nous a demandé de nous focaliser sur le style pour faire quelque chose de stylé qui nous corresponde et qui corresponde à la charte graphique du site. <br>
-Jeudi 22 aout. Ben valide la pull request après avoir apporté des modifications. Le prix total de la somme des tokens possédés par l’utilisateur est affiché et le style légèrement revu.  Un appel Discord se lance avec Tchiki et Liliane pour réaliser une démonstration de nos travaux de la semaine passée. On voit bien les tokens en devnet et j’explique que je ne peux pas avoir de rendu sur mainnet car je ne possède pas de tokens sur ce réseau, en étant persuadé que le code fonctionnait sans erreur sur ce réseau. Tchiki m’envoie alors 10 000 BONK sur ce réseau et au moment de faire le test : Aucun token disponible. Surprise générale Ben a fait les tests lui-même et tout semblait en ordre. En creusant j’ai alors découvert que @solana/spl-token-registry n’était plus à jour depuis plusieurs années mais que les développeurs se servaient de solana/spl-token. <br>
-Le lendemain vendredi 23 aout, Tchiki me suggère d’utiliser la liste de Jupiter pour récupérer ces données. Ça fonctionne. Je fais toujours appel à l’api d’Alchemy pour me connecter aux réseaux de Solana mais je passe par Jupiter pour récupérer les données des tokens. On voit maintenant sur le réseau Mainnet, le nom des token et leur quantité. <br>
-Pour conclure, une dernière réunion a eu lieu dans laquelle j’ai montré ce résultat à Liliane, Ben et Tchiki. Les objectifs ont été atteins et un retour sur l’ensemble du stage a été réalisé. Ben et Tchiki étaient fiers de nous même si le manque d’autonomie s’est fait ressentir notamment sur les débuts de la réalisation du Dashboard.
Ce stage a été pour moi une immense source de connaissances, j’ai été super heureux de travailler avec ces personnes dans la joie et la bonne humeur, nous sommes venus à bout de tous les obstacles rencontrés avec plus ou moins de difficultés et j’ai appris à bien travailler en équipe avec les pull requests et les branches git, j’ai appris pas mal de choses sur le Web3 que j’aurais probablement ignorées sans ce stage et j’ai appris à mieux développer en TypeScript/Javascript avec NextJs. 
